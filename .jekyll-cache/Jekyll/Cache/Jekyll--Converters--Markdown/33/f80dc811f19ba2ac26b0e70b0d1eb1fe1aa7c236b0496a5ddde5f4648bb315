I"m	<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidytuesdayR</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggthemes</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">gganimate</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">gifski</span><span class="p">)</span><span class="w">
</span><span class="n">theme_set</span><span class="p">(</span><span class="n">theme_wsj</span><span class="p">())</span><span class="w">
</span></code></pre></div></div>

<pre><code class="language-{r}">rm(list = ls())
tuesdata &lt;- tidytuesdayR::tt_load('2022-05-17')
eurovision &lt;- tuesdata$eurovision
eurovision_votes &lt;- tuesdata$`eurovision-votes`
</code></pre>

<pre><code class="language-{r}">finalists &lt;- eurovision %&gt;% 
  group_by(artist_country, year) %&gt;% 
  summarise(total_artists = n()) 

top_15_country &lt;- finalists %&gt;% 
  group_by(artist_country) %&gt;% 
  summarise(total = n()) %&gt;% 
  top_n(15) %&gt;% 
  select(artist_country)

euro_15 &lt;- finalists %&gt;% 
  inner_join(top_15_country, by = "artist_country") %&gt;% 
  arrange(year, desc(total_artists))

euro_15 %&gt;% 
  group_by(artist_country) %&gt;% 
  summarise(total = n()) %&gt;% 
  arrange(desc(total)) 

euro_15_cum &lt;- euro_15%&gt;% 
  mutate(cum_total = cumsum(total_artists))

chart &lt;- euro_15_cum %&gt;% 
  ggplot(aes(reorder(artist_country, cum_total), cum_total, fill = artist_country)) +
  geom_bar(stat = "identity",
           position = "identity", 
           show.legend = F) +
  coord_flip()+
  geom_hline(yintercept = 0, size = 1)+
  labs(title = "Which country has the most finlaists throughout the years",
       
       x = "",
       y = "Total number of finalists",
       caption = "TidyTuesday Wk 20 | EuroVision \nVisualization by Hao Li") +
  transition_reveal(year)


  

animate(chart, nframes = 180, fps = 18, width = 1200, height = 1000, renderer = gifski_renderer("C:/Users/haoli/Desktop/euro_15.gif"))

</code></pre>

:ET