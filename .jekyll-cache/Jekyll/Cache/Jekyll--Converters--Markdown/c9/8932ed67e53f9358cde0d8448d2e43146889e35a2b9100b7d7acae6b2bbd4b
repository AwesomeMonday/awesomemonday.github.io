I"‘%<p>Hello, this is Hao.</p>

<p>I havenâ€™t done TidyTuesday for a while, I am hoping writing this blog can keep me up with it. For those who is not familiar with TidyTuesday, itâ€™s a weekly online community activity. Every Tuesday a data set is published on github, and everyone who participates will tweet about the insights they gain from cleaning and analyzing it. For more info, you can click <a href="https://www.tidytuesday.com/" target="_blank">here</a>.</p>

<p>The data this week comes from the <a href="https://emp.lbl.gov/utility-scale-solar" target="_blank">Berkeley Lab</a>. See the technical brief on the <a href="https://emp.lbl.gov/utility-scale-solar" target="_blank">emp.lbl.gov</a> site.</p>

<p>Letâ€™s load in the libraries and explore the data</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">Hmisc</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Load in the 4 given data sets</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rm</span><span class="p">(</span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls</span><span class="p">())</span><span class="w">
</span><span class="n">capacity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readr</span><span class="o">::</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/capacity.csv'</span><span class="p">)</span><span class="w">
</span><span class="n">wind</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readr</span><span class="o">::</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/wind.csv'</span><span class="p">)</span><span class="w">
</span><span class="n">solar</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readr</span><span class="o">::</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/solar.csv'</span><span class="p">)</span><span class="w">
</span><span class="n">average_cost</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readr</span><span class="o">::</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/average_cost.csv'</span><span class="p">)</span><span class="w">

</span></code></pre></div></div>

<p>Letâ€™s take a look at average_cost</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">describe</span><span class="p">(</span><span class="n">average_cost</span><span class="p">)</span><span class="w">

</span><span class="n">average_cost</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">gather</span><span class="p">(</span><span class="n">energy_source</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">energy_source</span><span class="p">),</span><span class="w"> </span><span class="n">show.legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">energy_source</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Energy cost changes by year"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Cost in Dollars"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p><img src="/img/posts/US-solar-wind/tt_w18_energy_cost_by_year.jpg" alt="energy cost" /></p>

<h4 id="analysis-from-the-year-of-2008-to-2020-solar-energy-cost-has-decreased-the-most-with-gas-energy-drops-the-least-wind-reached-its-lowest-point-around-2017-then-cost-went-back-up">Analysis: from the year of 2008 to 2020, solar energy cost has decreased the most, with gas energy drops the least, wind reached its lowest point around 2017, then cost went back up</h4>

<p>Letâ€™s look at capacity data set</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">describe</span><span class="p">(</span><span class="n">capacity</span><span class="p">)</span><span class="w">

</span><span class="n">capacity</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">total_gw</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">type</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_line</span><span class="p">(</span><span class="n">show.legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">scales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"free"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Capacity change by year"</span><span class="p">,</span><span class="w">
       </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Capacity in GigaWatt"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p><img src="/img/posts/US-solar-wind/tt_w18_capacity change by year by type.jpg" alt="capacity change by year" /></p>

<h4 id="analysis-from-the-year-of-2014-to-2020-renewable-energy-capacities-are-increasing-non-renewable-energy-source-capacities-are-going-down">Analysis: from the year of 2014 to 2020, renewable energy capacities are increasing, non-renewable energy source capacities are going down.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
analyzing wind and solar

```{r}
solar &lt;- solar %&gt;% 
  rename(price = solar_mwh,
         capacity = solar_capacity)

solar %&gt;% 
  gather(variables, value, -date) %&gt;% 
  ggplot(aes(date, value, color = variables)) +
  geom_line() +
  geom_smooth(method = lm) +
  labs(title = "How does solar capacity affect price",
       x = "",
       y = "")
# seems the price of energy decreases as the capacity increases
</code></pre></div></div>

<pre><code class="language-{r}">
wind %&gt;% 
  rename(price = wind_mwh,
         capacity = wind_capacity) %&gt;% 
  gather(variables, value, -date) %&gt;% 
  ggplot(aes(date, value, color = variables)) +
  geom_line() +
  geom_smooth(method = lm) +
  labs(title = "How does wind energy capacity affect its price",
       x = "",
       y = "")

t.test(wind$wind_mwh, wind$wind_capacity, alternative = "two.sided", conf.level = .99)

?t.test()
</code></pre>

:ET